{"author":"timmery","board":"ESP32","createdAt":1531280813,"files":[{"content":"from mpython import *\nimport machine\nfrom machine import *\n\npingPin = 7\n\nwhile True:\n    # 事先给出一个短的低脉冲，以确保清洁的高脉冲：\n    p0 = MPythonPin(pingPin,PinMode.OUT)\n    p0.write_digital(0)\n    sleep_us(2)\n    p0.write_digital(1)\n    sleep_us(5)\n    p0.write_digital(0)\n\n    duration = machine.time_pulse_us(Pin(pingPin, Pin.IN), 1)\n\n    # 将时间转换为距离\n    inches = microsecondsToInches(duration)\n    cm = microsecondsToCentimeters(duration)\n\n    print(inches)\n    print(\"in, \")\n    print(cm)\n    print(\"cm\")\n    print(\"\")\n\n    sleep_ms(100)\n\ndef microsecondsToInches(microseconds):\n    return microseconds / 74 / 2\n\n\ndef microsecondsToCentimeters(microseconds):\n    return microseconds / 29 / 2\n","language":"cpp","main":false,"name":"Ping.py"}],"index":0,"name":"Ping","updatedAt":1556626126}
