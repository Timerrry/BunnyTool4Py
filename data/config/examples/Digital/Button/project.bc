{"author":"timmery","board":"ArduinoUNO","createdAt":1531280486,"files":[{"content":"//const常量类型数值不会被改变\nconst int buttonPin = 2;    //设置按钮引脚号\nconst int ledPin = 13;      //设置LED引脚号\n\n//下面变量类型数值可以更改\nint ledState = HIGH;         //输出引脚的当前状态\nint buttonState;             //输入引脚的电流读数\nint lastButtonState = LOW;   //输入引脚的先前读数\n\n//以下变量是无符号长整数，因为时间是以度量为单位的\nunsigned long lastDebounceTime = 0;  //最后一次切换输出引脚\nunsigned long debounceDelay = 50;    //去抖，如果输出闪烁则增加此变量\n\nvoid setup() {\n  pinMode(buttonPin, INPUT);\n  pinMode(ledPin, OUTPUT);\n\n  //设置初始LED状态\n  digitalWrite(ledPin, ledState);\n}\n\nvoid loop() {\n  //将切换状态读入局部变量：\n  int reading = digitalRead(buttonPin);\n\n  //检查你是否只按了按钮\n  //（即输入从低到高），你已经等了足够长的时间\n  //自上次按下以忽略任何噪音：\n\n  //如果开关由于噪音或按压而改变：\n  if (reading != lastButtonState) {\n    //重置去抖动计时器\n    lastDebounceTime = millis();\n  }\n\n  if ((millis() - lastDebounceTime) > debounceDelay) {\n    //无论阅读是什么，它存在的时间都长于去抖\n    //延迟，所以把它当作实际的当前状态：\n\n    //如果按钮状态已更改：\n    if (reading != buttonState) {\n      buttonState = reading;\n\n      //如果新按钮状态为HIGH，则仅切换LED\n      if (buttonState == HIGH) {\n        ledState = !ledState;\n      }\n    }\n  }\n\n  //设置LED：\n  digitalWrite(ledPin, ledState);\n\n  //保存阅读。 下次循环时，它将是lastButtonState：\n  lastButtonState = reading;\n}\n","language":"cpp","main":true,"name":"Button.ino"}],"index":0,"name":"Button","updatedAt":1531280789}
